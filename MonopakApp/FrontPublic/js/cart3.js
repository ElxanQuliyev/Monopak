$(function () { let t = []; function a(t, a, i) { var n = new Date; n.setTime(n.getTime() + 24 * i * 60 * 60 * 1e3); var r = "expires=" + n.toUTCString(); document.cookie = t + "=" + a + ";" + r + ";path=/" } function i() { $(".bloader", "#cartModal").show(), $(".cartItems", "#cartModal").html(""), $.ajax({ url: "/Orders/CartProducts", contentType: "application/json; charset=utf-8", dataType: "html" }).done(function (i) { $(".bloader", "#cartModal").show(), $(".cartItems", "#cartModal").html(i), $(".prd-remove").click(function () { var i = $(this).attr("pro-id"); t = t.filter(t => t.productId !== i), a("monoCart", JSON.stringify(t), 30), $(this).parents("tr").remove(), $(".btn-checkout a[pro-id='" + i + "']").html('\n                                <img style="width:8%;color:#fff;" src="/FrontPublic/Uploads/shopping-cart.svg" />\n                                <span class="ml-2">Səbətə at</span>').removeClass("disabled") }) }).fail(function () { swal.fire("error", "Sifariş zamanı xəta baş verdi.", "warning") }) } !function () { var a = Cookies.get("monoCart"); if (void 0 !== a && "" !== a) { t = JSON.parse(a); var n = [...$(".btn-checkout a").map((t, a) => a)]; n = n.filter(a => t.map(t => t.productId).includes($(a).attr("pro-id"))), $(n).html('\n <i class="fas fa-check text-green"></i>\n <span class="ml-2"> Əlavə edildi</span>'), $(n).addClass("disabled"), i() } }(), $(".btn-clear-pro").click(function () { t = [], Cookies.set("monoCart", t), $(".cartItems", "#cartModal").html('\n<div class="alert alert-warning mb-0" role="alert">\n                Səbətdə məhsul yoxdur.\n            </div>'), $(".btn-checkout a").html('\n<img style="width:8%;color:#fff;" src="/FrontPublic/Uploads/shopping-cart.svg" />\n            <span class="ml-2">Səbətə at</span>').removeClass("disabled") }), $(".btn-checkout a").click(function (n) { var r = $(this).attr("pro-id"), s = $(this).attr("pro-quantity"); if ($(this).find("img").hide(), $(this).html('\n  <i class="fas fa-check text-green"></i>\n           <span class="ml-2"> Əlavə edildi</span>'), null != r && "" != r) { const e = { productId: r, quantity: s }; t.push(e), a("monoCart", JSON.stringify(t), 30), $(this).addClass("disabled"), i(), n.preventDefault() } }), $("[type='number'].changeQuantity").change(function (i) { let n = $(this).val(), r = $(this).attr("min"); n <= r && ($(this).val(""), $(this).val(r)), t = [], $.each($("[type='number'].changeQuantity"), function (a, i) { const n = { productId: $(this).attr("data-id"), quantity: $(this).val() }; t.push(n) }), a("monoCart", JSON.stringify(t), 30) }) });